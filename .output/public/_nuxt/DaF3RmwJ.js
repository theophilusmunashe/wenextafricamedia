import{b as C,$ as S,n as L,c as T}from"./CtK9maNO.js";function $({swiper:e,extendParams:_,on:I,emit:g}){const y=C();_({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),e.mousewheel={enabled:!1};let c,E=T(),d;const o=[];function G(t){let r=0,a=0,i=0,n=0;return"detail"in t&&(a=t.detail),"wheelDelta"in t&&(a=-t.wheelDelta/120),"wheelDeltaY"in t&&(a=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(r=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=a,a=0),i=r*10,n=a*10,"deltaY"in t&&(n=t.deltaY),"deltaX"in t&&(i=t.deltaX),t.shiftKey&&!i&&(i=n,n=0),(i||n)&&t.deltaMode&&(t.deltaMode===1?(i*=40,n*=40):(i*=800,n*=800)),i&&!r&&(r=i<1?-1:1),n&&!a&&(a=n<1?-1:1),{spinX:r,spinY:a,pixelX:i,pixelY:n}}function A(){e.enabled&&(e.mouseEntered=!0)}function O(){e.enabled&&(e.mouseEntered=!1)}function D(t){return e.params.mousewheel.thresholdDelta&&t.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&T()-E<e.params.mousewheel.thresholdTime?!1:t.delta>=6&&T()-E<60?!0:(t.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),g("scroll",t.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),g("scroll",t.raw)),E=new y.Date().getTime(),!1)}function p(t){const l=e.params.mousewheel;if(t.direction<0){if(e.isEnd&&!e.params.loop&&l.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&l.releaseOnEdges)return!0;return!1}function v(t){let l=t,M=!0;if(!e.enabled)return;const m=e.params.mousewheel;e.params.cssMode&&l.preventDefault();let r=e.$el;if(e.params.mousewheel.eventsTarget!=="container"&&(r=S(e.params.mousewheel.eventsTarget)),!e.mouseEntered&&!r[0].contains(l.target)&&!m.releaseOnEdges)return!0;l.originalEvent&&(l=l.originalEvent);let a=0;const i=e.rtlTranslate?-1:1,n=G(l);if(m.forceToAxis)if(e.isHorizontal())if(Math.abs(n.pixelX)>Math.abs(n.pixelY))a=-n.pixelX*i;else return!0;else if(Math.abs(n.pixelY)>Math.abs(n.pixelX))a=-n.pixelY;else return!0;else a=Math.abs(n.pixelX)>Math.abs(n.pixelY)?-n.pixelX*i:-n.pixelY;if(a===0)return!0;m.invert&&(a=-a);let h=e.getTranslate()+a*m.sensitivity;if(h>=e.minTranslate()&&(h=e.minTranslate()),h<=e.maxTranslate()&&(h=e.maxTranslate()),M=e.params.loop?!0:!(h===e.minTranslate()||h===e.maxTranslate()),M&&e.params.nested&&l.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const s={time:T(),delta:Math.abs(a),direction:Math.sign(a),raw:t};o.length>=2&&o.shift();const f=o.length?o[o.length-1]:void 0;if(o.push(s),f?(s.direction!==f.direction||s.delta>f.delta||s.time>f.time+150)&&D(s):D(s),p(s))return!0}else{const s={time:T(),delta:Math.abs(a),direction:Math.sign(a)},f=d&&s.time<d.time+500&&s.delta<=d.delta&&s.direction===d.direction;if(!f){d=void 0,e.params.loop&&e.loopFix();let u=e.getTranslate()+a*m.sensitivity;const B=e.isBeginning,N=e.isEnd;if(u>=e.minTranslate()&&(u=e.minTranslate()),u<=e.maxTranslate()&&(u=e.maxTranslate()),e.setTransition(0),e.setTranslate(u),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!B&&e.isBeginning||!N&&e.isEnd)&&e.updateSlidesClasses(),e.params.freeMode.sticky){clearTimeout(c),c=void 0,o.length>=15&&o.shift();const X=o.length?o[o.length-1]:void 0,P=o[0];if(o.push(s),X&&(s.delta>X.delta||s.direction!==X.direction))o.splice(0);else if(o.length>=15&&s.time-P.time<500&&P.delta-s.delta>=1&&s.delta<=6){const Y=a>0?.8:.2;d=s,o.splice(0),c=L(()=>{e.slideToClosest(e.params.speed,!0,void 0,Y)},0)}c||(c=L(()=>{d=s,o.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(f||g("scroll",l),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),u===e.minTranslate()||u===e.maxTranslate())return!0}}return l.preventDefault?l.preventDefault():l.returnValue=!1,!1}function H(t){let l=e.$el;e.params.mousewheel.eventsTarget!=="container"&&(l=S(e.params.mousewheel.eventsTarget)),l[t]("mouseenter",A),l[t]("mouseleave",O),l[t]("wheel",v)}function b(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",v),!0):e.mousewheel.enabled?!1:(H("on"),e.mousewheel.enabled=!0,!0)}function x(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,v),!0):e.mousewheel.enabled?(H("off"),e.mousewheel.enabled=!1,!0):!1}I("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&x(),e.params.mousewheel.enabled&&b()}),I("destroy",()=>{e.params.cssMode&&b(),e.mousewheel.enabled&&x()}),Object.assign(e.mousewheel,{enable:b,disable:x})}export{$ as M};
